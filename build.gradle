apply plugin: 'java'
apply plugin: 'maven'

group = 'com.codeborne'
artifact = 'selenide'
version = '1.0-SNAPSHOT'

sourceCompatibility = 1.5

repositories {
  mavenCentral()
}

dependencies {
  compile 'org.seleniumhq.selenium:selenium-java:2.18.0'
  compile 'org.mortbay.jetty:jetty:6.1.26'
  compile 'jetty:javax.servlet:5.1.12'
  compile 'org.mortbay.jetty:jsp-2.1:6.1.14'
  compile 'junit:junit:4.10'
  compile 'org.hamcrest:hamcrest-all:1.1'
}

task libs(type: Sync) {
  from configurations.compile
  from configurations.runtime
  into "$buildDir/lib"
}

[compileJava, compileTestJava]*.options.collect {options -> options.encoding = 'UTF-8'}
[compileJava, compileTestJava]*.options.collect {options -> options.debug = true}

test {
  systemProperties 'file.encoding': 'UTF-8'
}

task sourcesJar(type: Jar, dependsOn:classes) {
  classifier = 'sources'
  from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn:javadoc) {
  classifier = 'javadoc'
  from javadoc.destinationDir
}

artifacts {
  archives jar
  archives sourcesJar
  archives javadocJar
}

task wrapper(type: Wrapper) {
  gradleVersion = '1.0-milestone-7'
  jarFile = './gradle-wrapper/gradle-wrapper.jar'
  scriptFile = './gradle'
}

defaultTasks 'clean', 'libs', 'test', 'jar', 'install'

